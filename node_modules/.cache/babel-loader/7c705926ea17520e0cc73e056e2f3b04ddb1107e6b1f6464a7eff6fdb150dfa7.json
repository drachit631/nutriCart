{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{useCart}from\"../contexts/CartContext\";import{useToast}from\"../components/ui/use-toast\";import{Button}from\"../components/ui/button\";import{Card}from\"../components/ui/card\";import{Input}from\"../components/ui/input\";import{Search,Filter,Star,ShoppingCart,Heart,Eye,TrendingUp,Award,Truck,Shield,Sparkles,Zap,Target,Clock,Users,ArrowRight,Filter as FilterIcon,Grid3X3,List,SlidersHorizontal,Minus,Plus,CheckCircle,Leaf,Package,Globe,BarChart3,Lightbulb,TrendingDown,Clock3,Star as StarIcon,Fire,Crown,Zap as ZapIcon,Target as TargetIcon,Heart as HeartIcon}from\"lucide-react\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProductsPage=()=>{var _categories$find;const[products,setProducts]=useState([]);const[filteredProducts,setFilteredProducts]=useState([]);const[loading,setLoading]=useState(true);const[searchTerm,setSearchTerm]=useState(\"\");const[selectedCategory,setSelectedCategory]=useState(\"all\");const[sortBy,setSortBy]=useState(\"featured\");const[viewMode,setViewMode]=useState(\"grid\");const[showFilters,setShowFilters]=useState(false);const[priceRange,setPriceRange]=useState([0,2000]);const[selectedDiets,setSelectedDiets]=useState([]);const[activeFilterPreset,setActiveFilterPreset]=useState(null);const[showSmartRecommendations,setShowSmartRecommendations]=useState(false);const navigate=useNavigate();const{addToCart,updateQuantity,isInCart,getItemQuantity,isItemUpdating}=useCart();const{toast}=useToast();const categories=[{id:\"all\",name:\"All Products\",icon:\"ðŸ›’\",color:\"from-blue-500 to-cyan-500\",description:\"Complete product catalog\"},{id:\"grains\",name:\"Grains & Cereals\",icon:\"ðŸŒ¾\",color:\"from-amber-500 to-orange-500\",description:\"Premium whole grains\"},{id:\"seafood\",name:\"Fresh Seafood\",icon:\"ðŸŸ\",color:\"from-blue-500 to-indigo-500\",description:\"Ocean-fresh selection\"},{id:\"fruits\",name:\"Fresh Fruits\",icon:\"ðŸŽ\",color:\"from-red-500 to-pink-500\",description:\"Seasonal fruit varieties\"},{id:\"dairy\",name:\"Dairy Products\",icon:\"ðŸ¥›\",color:\"from-blue-500 to-purple-500\",description:\"Pure dairy essentials\"},{id:\"nuts\",name:\"Nuts & Seeds\",icon:\"ðŸ¥œ\",color:\"from-amber-500 to-yellow-500\",description:\"Premium nut selection\"},{id:\"vegetables\",name:\"Fresh Vegetables\",icon:\"ðŸ¥¬\",color:\"from-green-500 to-emerald-500\",description:\"Farm-fresh produce\"}];const dietOptions=[{value:\"vegan\",label:\"Vegan\",icon:\"ðŸŒ±\"},{value:\"vegetarian\",label:\"Vegetarian\",icon:\"ðŸ¥—\"},{value:\"keto\",label:\"Keto\",icon:\"ðŸ¥‘\"},{value:\"paleo\",label:\"Paleo\",icon:\"ðŸ¦´\"},{value:\"mediterranean\",label:\"Mediterranean\",icon:\"ðŸ«’\"},{value:\"dash\",label:\"DASH\",icon:\"â¤ï¸\"},{value:\"gluten-free\",label:\"Gluten-Free\",icon:\"ðŸŒ¾\"}];// New: Smart Filter Presets\nconst filterPresets=[{id:\"trending\",name:\"ðŸ”¥ Trending Now\",icon:Fire,description:\"Most popular products this week\",filters:{sortBy:\"popularity\",selectedCategory:\"all\"}},{id:\"budget-friendly\",name:\"ðŸ’° Budget Friendly\",icon:TrendingDown,description:\"Best value for money\",filters:{sortBy:\"price-low\",priceRange:[0,500]}},{id:\"premium\",name:\"ðŸ‘‘ Premium Selection\",icon:Crown,description:\"High-end organic products\",filters:{priceRange:[1000,2000],selectedCategory:\"all\"}},{id:\"quick-delivery\",name:\"âš¡ Quick Delivery\",icon:ZapIcon,description:\"Same day delivery available\",filters:{selectedCategory:\"all\"}},{id:\"health-focused\",name:\"ðŸŽ¯ Health Focused\",icon:TargetIcon,description:\"Products for specific health goals\",filters:{selectedDiets:[\"mediterranean\",\"dash\"],selectedCategory:\"all\"}},{id:\"organic\",name:\"ðŸŒ¿ 100% Organic\",icon:Leaf,description:\"Certified organic products only\",filters:{selectedCategory:\"all\"}}];// New: Smart Recommendations\nconst getSmartRecommendations=()=>{const recommendations=[];if(searchTerm){recommendations.push({type:\"search\",message:\"Found \".concat(filteredProducts.length,\" products matching \\\"\").concat(searchTerm,\"\\\"\"),icon:Search});}if(selectedCategory!==\"all\"){const category=categories.find(c=>c.id===selectedCategory);recommendations.push({type:\"category\",message:\"Browsing \".concat(category===null||category===void 0?void 0:category.name,\" - \").concat(filteredProducts.length,\" products available\"),icon:Package});}if(priceRange[1]<2000){recommendations.push({type:\"price\",message:\"Price range: \\u20B9\".concat(priceRange[0],\" - \\u20B9\").concat(priceRange[1]),icon:TrendingDown});}if(selectedDiets.length>0){recommendations.push({type:\"diet\",message:\"\".concat(selectedDiets.length,\" dietary preferences selected\"),icon:HeartIcon});}return recommendations;};useEffect(()=>{fetchProducts();},[]);useEffect(()=>{filterAndSortProducts();},[products,searchTerm,selectedCategory,sortBy,priceRange,selectedDiets]);const fetchProducts=async()=>{try{const response=await fetch(\"http://localhost:4000/api/products\");const data=await response.json();setProducts(data);setLoading(false);}catch(error){console.error(\"Error fetching products:\",error);setLoading(false);}};const filterAndSortProducts=()=>{let filtered=products.filter(product=>{const matchesSearch=product.name.toLowerCase().includes(searchTerm.toLowerCase())||product.description.toLowerCase().includes(searchTerm.toLowerCase());const matchesCategory=selectedCategory===\"all\"||product.category.toLowerCase()===selectedCategory.toLowerCase();const matchesPrice=product.price>=priceRange[0]&&product.price<=priceRange[1];const matchesDiet=selectedDiets.length===0||selectedDiets.some(diet=>{var _product$dietCompatib;return(_product$dietCompatib=product.dietCompatible)===null||_product$dietCompatib===void 0?void 0:_product$dietCompatib.includes(diet);});return matchesSearch&&matchesCategory&&matchesPrice&&matchesDiet;});// Sort products\nswitch(sortBy){case\"price-low\":filtered.sort((a,b)=>a.price-b.price);break;case\"price-high\":filtered.sort((a,b)=>b.price-a.price);break;case\"rating\":filtered.sort((a,b)=>b.rating-a.rating);break;case\"name\":filtered.sort((a,b)=>a.name.localeCompare(b.name));break;case\"popularity\":filtered.sort((a,b)=>b.reviews-a.reviews);break;default:break;}setFilteredProducts(filtered);};const handleAddToCart=async product=>{try{await addToCart(product._id,1);toast({title:\"Added to cart!\",description:\"\".concat(product.name,\" has been added to your cart.\"),variant:\"default\"});}catch(error){toast({title:\"Error\",description:\"Failed to add item to cart. Please try again.\",variant:\"destructive\"});}};const handleQuantityChange=async(productId,newQuantity)=>{try{if(newQuantity<=0){await updateQuantity(productId,0);}else{await updateQuantity(productId,newQuantity);}}catch(error){toast({title:\"Error\",description:\"Failed to update quantity. Please try again.\",variant:\"destructive\"});}};const getDiscountPercentage=(originalPrice,currentPrice)=>{return Math.round((originalPrice-currentPrice)/originalPrice*100);};const clearAllFilters=()=>{setSearchTerm(\"\");setSelectedCategory(\"all\");setPriceRange([0,2000]);setSelectedDiets([]);setSortBy(\"featured\");setActiveFilterPreset(null);};const applyFilterPreset=preset=>{setActiveFilterPreset(preset.id);setSortBy(preset.filters.sortBy||\"featured\");setPriceRange(preset.filters.priceRange||[0,2000]);setSelectedDiets(preset.filters.selectedDiets||[]);setSelectedCategory(preset.filters.selectedCategory||\"all\");toast({title:\"Filter Preset Applied!\",description:preset.description,variant:\"default\"});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-20 w-20 border-b-2 border-green-600 mx-auto mb-6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 rounded-full border-2 border-green-200 animate-pulse\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xl font-semibold text-gray-700\",children:\"Loading Amazing Products\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Preparing your healthy shopping experience...\"})]})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-green-50 to-blue-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative overflow-hidden bg-gradient-to-r from-green-600 to-blue-600 text-white py-20\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-0 w-72 h-72 bg-white/10 rounded-full mix-blend-multiply filter blur-xl animate-pulse\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 right-0 w-72 h-72 bg-white/10 rounded-full mix-blend-multiply filter blur-xl animate-pulse animation-delay-2000\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 left-1/2 w-72 h-72 bg-white/10 rounded-full mix-blend-multiply filter blur-xl animate-pulse animation-delay-4000\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative container mx-auto px-6 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inline-flex items-center gap-2 mb-6 px-4 py-2 bg-white/20 backdrop-blur-sm rounded-full border border-white/30\",children:[/*#__PURE__*/_jsx(Award,{className:\"w-4 h-4 text-yellow-300\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-white\",children:\"Premium Quality Assured\"})]}),/*#__PURE__*/_jsxs(\"h1\",{className:\"text-4xl md:text-5xl font-bold mb-6 leading-tight tracking-tight\",children:[\"Discover Fresh &\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"bg-gradient-to-r from-yellow-300 to-orange-300 bg-clip-text text-transparent\",children:\"Healthy Products\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-green-100 mb-10 max-w-3xl mx-auto leading-relaxed\",children:\"From farm to table, we bring you the finest organic and nutritious products to support your healthy lifestyle journey. Every item is carefully selected for quality and freshness.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-2xl mx-auto relative\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-5 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Search products, categories, or dietary preferences...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"pl-12 pr-4 py-4 text-base border-0 rounded-full shadow-2xl focus:ring-4 focus:ring-green-300/50 bg-white/95 backdrop-blur-sm\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center gap-12 mt-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold text-yellow-300\",children:[products.length,\"+\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-green-100 text-sm font-medium\",children:\"Premium Products\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-yellow-300\",children:\"100%\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-green-100 text-sm font-medium\",children:\"Quality Verified\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-yellow-300\",children:\"24h\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-green-100 text-sm font-medium\",children:\"Express Delivery\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-6 py-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(Lightbulb,{className:\"w-6 h-6 text-amber-500\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-800\",children:\"Smart Filter Presets\"})]}),/*#__PURE__*/_jsxs(Button,{variant:\"ghost\",onClick:()=>setShowSmartRecommendations(!showSmartRecommendations),className:\"text-green-600 hover:text-green-700 hover:bg-green-50\",children:[/*#__PURE__*/_jsx(Zap,{className:\"w-4 h-4 mr-2\"}),showSmartRecommendations?\"Hide\":\"Show\",\" AI Insights\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4\",children:filterPresets.map(preset=>{const IconComponent=preset.icon;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>applyFilterPreset(preset),className:\"group relative p-4 rounded-xl border-2 transition-all duration-300 text-left \".concat(activeFilterPreset===preset.id?\"border-green-500 bg-green-50 shadow-lg scale-105\":\"border-gray-200 bg-white hover:border-green-300 hover:shadow-md hover:scale-105\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(IconComponent,{className:\"w-5 h-5 \".concat(activeFilterPreset===preset.id?\"text-green-600\":\"text-gray-500\")}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold \".concat(activeFilterPreset===preset.id?\"text-green-800\":\"text-gray-700\"),children:preset.name})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs \".concat(activeFilterPreset===preset.id?\"text-green-600\":\"text-gray-500\"),children:preset.description}),activeFilterPreset===preset.id&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"w-4 h-4 text-white\"})})]},preset.id);})})]}),showSmartRecommendations&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8 bg-gradient-to-r from-blue-50 to-green-50 rounded-2xl p-6 border border-blue-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-blue-100 rounded-lg\",children:/*#__PURE__*/_jsx(BarChart3,{className:\"w-5 h-5 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-blue-800\",children:\"Smart Insights\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-600\",children:\"AI-powered recommendations based on your filters\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",children:getSmartRecommendations().map((rec,index)=>{const IconComponent=rec.icon;return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-blue-200/50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-blue-100 rounded-lg\",children:/*#__PURE__*/_jsx(IconComponent,{className:\"w-4 h-4 text-blue-600\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-blue-800\",children:rec.message})})]})},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-xl border border-gray-200/50 p-8 mb-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-green-100 rounded-lg\",children:/*#__PURE__*/_jsx(FilterIcon,{className:\"w-5 h-5 text-green-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-800\",children:\"Advanced Filters\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Refine your product selection\"})]})]}),/*#__PURE__*/_jsxs(Button,{variant:\"ghost\",onClick:()=>setShowFilters(!showFilters),className:\"flex items-center gap-2 text-green-600 hover:text-green-700 hover:bg-green-50\",children:[/*#__PURE__*/_jsx(SlidersHorizontal,{className:\"w-4 h-4\"}),showFilters?\"Hide\":\"Show\",\" Advanced\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-4\",children:\"Product Categories\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-3\",children:categories.map(category=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedCategory(category.id),className:\"group relative px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2 \".concat(selectedCategory===category.id?\"bg-gradient-to-r \".concat(category.color,\" text-white shadow-md\"):\"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:shadow-sm\"),children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg group-hover:scale-110 transition-transform\",children:category.icon}),/*#__PURE__*/_jsx(\"span\",{children:category.name}),selectedCategory===category.id&&/*#__PURE__*/_jsx(CheckCircle,{className:\"w-4 h-4 ml-1\"})]},category.id))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-4\",children:\"Sort By\"}),/*#__PURE__*/_jsxs(\"select\",{value:sortBy,onChange:e=>setSortBy(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"featured\",children:\"\\u2B50 Featured\"}),/*#__PURE__*/_jsx(\"option\",{value:\"popularity\",children:\"\\uD83D\\uDD25 Most Popular\"}),/*#__PURE__*/_jsx(\"option\",{value:\"rating\",children:\"\\u2B50 Highest Rated\"}),/*#__PURE__*/_jsx(\"option\",{value:\"price-low\",children:\"\\uD83D\\uDCB0 Price: Low to High\"}),/*#__PURE__*/_jsx(\"option\",{value:\"price-high\",children:\"\\uD83D\\uDCB0 Price: High to Low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"name\",children:\"\\uD83D\\uDCDD Name A-Z\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-4\",children:\"Display Mode\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex bg-gray-100 rounded-lg p-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode(\"grid\"),className:\"p-3 rounded-md transition-all \".concat(viewMode===\"grid\"?\"bg-white text-green-600 shadow-sm\":\"text-gray-500 hover:text-gray-700\"),children:/*#__PURE__*/_jsx(Grid3X3,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode(\"list\"),className:\"p-3 rounded-md transition-all \".concat(viewMode===\"list\"?\"bg-white text-green-600 shadow-sm\":\"text-gray-500 hover:text-gray-700\"),children:/*#__PURE__*/_jsx(List,{className:\"w-5 h-5\"})})]})]})]}),showFilters&&/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-200 pt-8 space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-4\",children:[\"Price Range: \\u20B9\",priceRange[0],\" - \\u20B9\",priceRange[1]]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0\",max:\"2000\",value:priceRange[1],onChange:e=>setPriceRange([priceRange[0],parseInt(e.target.value)]),className:\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u20B90\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u20B92000+\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-4\",children:\"Dietary Preferences\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:dietOptions.map(diet=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setSelectedDiets(prev=>prev.includes(diet.value)?prev.filter(d=>d!==diet.value):[...prev,diet.value]);},className:\"px-3 py-2 rounded-lg text-sm font-medium transition-all \".concat(selectedDiets.includes(diet.value)?\"bg-green-100 text-green-800 border border-green-300\":\"bg-gray-100 text-gray-700 hover:bg-gray-200\"),children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-1\",children:diet.icon}),diet.label]},diet.value))})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsxs(Button,{onClick:clearAllFilters,variant:\"outline\",className:\"border-red-200 text-red-600 hover:bg-red-50 hover:border-red-300\",children:[/*#__PURE__*/_jsx(Target,{className:\"w-4 h-4 mr-2\"}),\"Clear All Filters\"]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 text-lg\",children:[\"Showing\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-green-600 text-xl\",children:filteredProducts.length}),\" \",\"products\",searchTerm&&/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",\"for \\\"\",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-blue-600\",children:searchTerm}),\"\\\"\"]}),selectedCategory!==\"all\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",\"in\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-purple-600\",children:(_categories$find=categories.find(c=>c.id===selectedCategory))===null||_categories$find===void 0?void 0:_categories$find.name})]})]}),(searchTerm||selectedCategory!==\"all\"||selectedDiets.length>0)&&/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full font-medium\",children:\"Filtered Results\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Last updated: \",new Date().toLocaleTimeString()]})]})]})}),filteredProducts.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-20\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-8xl mb-4\",children:\"\\uD83D\\uDD0D\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-2 -right-2 w-6 h-6 bg-red-500 rounded-full animate-bounce\"})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-3xl font-bold text-gray-700 mb-4\",children:\"No products found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-8 text-lg max-w-md mx-auto\",children:\"Try adjusting your search criteria or filters to discover more amazing products.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 justify-center\",children:[/*#__PURE__*/_jsxs(Button,{onClick:clearAllFilters,className:\"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700\",children:[/*#__PURE__*/_jsx(Target,{className:\"w-4 h-4 mr-2\"}),\"Clear All Filters\"]}),/*#__PURE__*/_jsxs(Button,{variant:\"outline\",onClick:()=>navigate(\"/\"),className:\"border-gray-300 hover:border-gray-400\",children:[/*#__PURE__*/_jsx(ArrowRight,{className:\"w-4 h-4 mr-2\"}),\"Explore Homepage\"]})]})]}):/*#__PURE__*/_jsx(\"div\",{className:viewMode===\"grid\"?\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\":\"space-y-6\",children:filteredProducts.map((product,index)=>{var _product$tags;return/*#__PURE__*/_jsxs(Card,{className:\"group overflow-hidden transition-all duration-500 hover:shadow-2xl hover:scale-105 border-0 bg-white/90 backdrop-blur-sm relative\",style:{animationDelay:\"\".concat(index*100,\"ms\")},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative overflow-hidden bg-gradient-to-br from-green-100 via-blue-100 to-purple-100 p-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-7xl text-center mb-4 group-hover:scale-110 transition-transform duration-300\",children:product.image}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-3 left-3 flex flex-col gap-2\",children:[product.originalPrice>product.price&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-red-500 to-pink-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg animate-pulse\",children:[\"-\",getDiscountPercentage(product.originalPrice,product.price),\"%\"]}),((_product$tags=product.tags)===null||_product$tags===void 0?void 0:_product$tags.includes(\"Organic\"))&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-green-500 to-emerald-500 text-white text-xs font-bold px-3 py-1 rounded-full flex items-center gap-1 shadow-lg\",children:[/*#__PURE__*/_jsx(Leaf,{className:\"w-3 h-3\"}),\"Organic\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-3 right-3 flex flex-col gap-2 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-2 group-hover:translate-y-0\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-white/90 hover:bg-white p-2 rounded-full shadow-lg transition-all hover:scale-110 hover:shadow-xl\",children:/*#__PURE__*/_jsx(Heart,{className:\"w-4 h-4 text-red-500\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/products/\".concat(product._id)),className:\"bg-white/90 hover:bg-white p-2 rounded-full shadow-lg transition-all hover:scale-110 hover:shadow-xl\",children:/*#__PURE__*/_jsx(Eye,{className:\"w-4 h-4 text-blue-500\"})})]}),!product.inStock&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-3 left-3 bg-red-500 text-white text-xs font-bold px-3 py-1 rounded-full animate-pulse\",children:\"Out of Stock\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-3 right-3\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 bg-black/20 text-white text-xs font-medium rounded-full backdrop-blur-sm\",children:product.category})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-800 mb-3 line-clamp-2 group-hover:text-green-600 transition-colors duration-300\",children:product.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-4 line-clamp-2 leading-relaxed\",children:product.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:[...Array(5)].map((_,i)=>/*#__PURE__*/_jsx(Star,{className:\"w-4 h-4 \".concat(i<Math.floor(product.rating)?\"text-yellow-400 fill-current\":\"text-gray-300\")},i))}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[\"(\",product.reviews,\")\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-auto text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full\",children:[product.rating,\"/5\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-2xl font-bold text-green-600\",children:[\"\\u20B9\",product.price]}),product.originalPrice>product.price&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg text-gray-400 line-through\",children:[\"\\u20B9\",product.originalPrice]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-4 text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(Truck,{className:\"w-4 h-4 text-green-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"truncate\",children:product.supplier})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[isInCart(product._id)?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 border border-green-200 rounded-xl p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-green-800\",children:[\"In Cart: \",getItemQuantity(product._id),\" \\xD7 \\u20B9\",product.price]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>handleQuantityChange(product._id,getItemQuantity(product._id)-1),disabled:isItemUpdating(product._id),className:\"flex-1 border-green-300 text-green-700 hover:bg-green-100\",children:/*#__PURE__*/_jsx(Minus,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-center font-semibold min-w-[2rem]\",children:getItemQuantity(product._id)}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>handleQuantityChange(product._id,getItemQuantity(product._id)+1),disabled:isItemUpdating(product._id),className:\"flex-1 border-green-300 text-green-700 hover:bg-green-100\",children:/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4\"})})]})]}):/*#__PURE__*/_jsxs(Button,{onClick:()=>handleAddToCart(product),disabled:!product.inStock,className:\"w-full bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 group-hover:scale-105\",children:[/*#__PURE__*/_jsx(ShoppingCart,{className:\"w-4 h-4 mr-2\"}),\"Add to Cart\"]}),/*#__PURE__*/_jsxs(Button,{variant:\"outline\",onClick:()=>navigate(\"/products/\".concat(product._id)),className:\"w-full border-green-200 text-green-600 hover:bg-green-50 hover:border-green-300 transition-all duration-300 group-hover:scale-105\",children:[/*#__PURE__*/_jsx(Eye,{className:\"w-4 h-4 mr-2\"}),\"View Details\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 border-2 border-transparent group-hover:border-green-300/50 rounded-xl transition-all duration-300 pointer-events-none\"})]},product._id);})}),filteredProducts.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-20 text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative overflow-hidden bg-gradient-to-r from-green-600 via-blue-600 to-purple-600 rounded-2xl p-12 text-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-0 w-32 h-32 bg-white/10 rounded-full mix-blend-multiply filter blur-xl animate-blob\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 right-0 w-32 h-32 bg-white/10 rounded-full mix-blend-multiply filter blur-xl animate-blob animation-delay-2000\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center gap-2 mb-4\",children:[/*#__PURE__*/_jsx(Sparkles,{className:\"w-6 h-6 text-yellow-300 animate-pulse\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium bg-white/20 px-4 py-2 rounded-full\",children:\"Expert Guidance\"}),/*#__PURE__*/_jsx(Sparkles,{className:\"w-6 h-6 text-yellow-300 animate-pulse\"})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-3xl font-bold mb-6\",children:\"Need Help Finding the Right Products?\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-green-100 mb-8 max-w-3xl mx-auto text-lg leading-relaxed\",children:\"Our nutrition experts are here to help you choose products that align with your dietary goals and preferences. Get personalized recommendations based on your health objectives.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4 justify-center\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"secondary\",size:\"lg\",className:\"bg-white text-green-600 hover:bg-gray-100 shadow-lg hover:shadow-xl transition-all duration-300\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"w-5 h-5 mr-2\"}),\"Get Personalized Recommendations\"]}),/*#__PURE__*/_jsxs(Button,{variant:\"outline\",size:\"lg\",className:\"border-white/30 text-white hover:bg-white/10 backdrop-blur-sm\",children:[/*#__PURE__*/_jsx(Users,{className:\"w-5 h-5 mr-2\"}),\"Chat with Nutritionist\"]})]})]})]})})]}),/*#__PURE__*/_jsx(\"style\",{jsx:true,children:\"\\n        .slider::-webkit-slider-thumb {\\n          appearance: none;\\n          height: 20px;\\n          width: 20px;\\n          border-radius: 50%;\\n          background: linear-gradient(to right, #10b981, #3b82f6);\\n          cursor: pointer;\\n          box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);\\n        }\\n\\n        .slider::-moz-range-thumb {\\n          height: 20px;\\n          width: 20px;\\n          border-radius: 50%;\\n          background: linear-gradient(to right, #10b981, #3b82f6);\\n          cursor: pointer;\\n          border: none;\\n          box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);\\n        }\\n\\n        @keyframes blob {\\n          0% {\\n            transform: translate(0px, 0px) scale(1);\\n          }\\n          33% {\\n            transform: translate(30px, -50px) scale(1.1);\\n          }\\n          66% {\\n            transform: translate(-20px, 20px) scale(0.9);\\n          }\\n          100% {\\n            transform: translate(0px, 0px) scale(1);\\n          }\\n        }\\n\\n        .animate-blob {\\n          animation: blob 7s infinite;\\n        }\\n\\n        .animation-delay-2000 {\\n          animation-delay: 2s;\\n        }\\n\\n        .animation-delay-4000 {\\n          animation-delay: 4s;\\n        }\\n      \"})]});};export default ProductsPage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useCart","useToast","Button","Card","Input","Search","Filter","Star","ShoppingCart","Heart","Eye","TrendingUp","Award","Truck","Shield","Sparkles","Zap","Target","Clock","Users","ArrowRight","FilterIcon","Grid3X3","List","SlidersHorizontal","Minus","Plus","CheckCircle","Leaf","Package","Globe","BarChart3","Lightbulb","TrendingDown","Clock3","StarIcon","Fire","Crown","ZapIcon","TargetIcon","HeartIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductsPage","_categories$find","products","setProducts","filteredProducts","setFilteredProducts","loading","setLoading","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","sortBy","setSortBy","viewMode","setViewMode","showFilters","setShowFilters","priceRange","setPriceRange","selectedDiets","setSelectedDiets","activeFilterPreset","setActiveFilterPreset","showSmartRecommendations","setShowSmartRecommendations","navigate","addToCart","updateQuantity","isInCart","getItemQuantity","isItemUpdating","toast","categories","id","name","icon","color","description","dietOptions","value","label","filterPresets","filters","getSmartRecommendations","recommendations","push","type","message","concat","length","category","find","c","fetchProducts","filterAndSortProducts","response","fetch","data","json","error","console","filtered","filter","product","matchesSearch","toLowerCase","includes","matchesCategory","matchesPrice","price","matchesDiet","some","diet","_product$dietCompatib","dietCompatible","sort","a","b","rating","localeCompare","reviews","handleAddToCart","_id","title","variant","handleQuantityChange","productId","newQuantity","getDiscountPercentage","originalPrice","currentPrice","Math","round","clearAllFilters","applyFilterPreset","preset","className","children","placeholder","onChange","e","target","onClick","map","IconComponent","rec","index","min","max","parseInt","prev","d","Date","toLocaleTimeString","_product$tags","style","animationDelay","image","tags","inStock","Array","_","i","floor","supplier","size","disabled"],"sources":["C:/Users data/Rachit/NutriCart Project/nutriCart/src/pages/ProductsPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useCart } from \"../contexts/CartContext\";\nimport { useToast } from \"../components/ui/use-toast\";\nimport { Button } from \"../components/ui/button\";\nimport { Card } from \"../components/ui/card\";\nimport { Input } from \"../components/ui/input\";\nimport {\n  Search,\n  Filter,\n  Star,\n  ShoppingCart,\n  Heart,\n  Eye,\n  TrendingUp,\n  Award,\n  Truck,\n  Shield,\n  Sparkles,\n  Zap,\n  Target,\n  Clock,\n  Users,\n  ArrowRight,\n  Filter as FilterIcon,\n  Grid3X3,\n  List,\n  SlidersHorizontal,\n  Minus,\n  Plus,\n  CheckCircle,\n  Leaf,\n  Package,\n  Globe,\n  BarChart3,\n  Lightbulb,\n  TrendingDown,\n  Clock3,\n  Star as StarIcon,\n  Fire,\n  Crown,\n  Zap as ZapIcon,\n  Target as TargetIcon,\n  Heart as HeartIcon,\n} from \"lucide-react\";\n\nconst ProductsPage = () => {\n  const [products, setProducts] = useState([]);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState(\"all\");\n  const [sortBy, setSortBy] = useState(\"featured\");\n  const [viewMode, setViewMode] = useState(\"grid\");\n  const [showFilters, setShowFilters] = useState(false);\n  const [priceRange, setPriceRange] = useState([0, 2000]);\n  const [selectedDiets, setSelectedDiets] = useState([]);\n  const [activeFilterPreset, setActiveFilterPreset] = useState(null);\n  const [showSmartRecommendations, setShowSmartRecommendations] =\n    useState(false);\n  const navigate = useNavigate();\n  const {\n    addToCart,\n    updateQuantity,\n    isInCart,\n    getItemQuantity,\n    isItemUpdating,\n  } = useCart();\n  const { toast } = useToast();\n\n  const categories = [\n    {\n      id: \"all\",\n      name: \"All Products\",\n      icon: \"ðŸ›’\",\n      color: \"from-blue-500 to-cyan-500\",\n      description: \"Complete product catalog\",\n    },\n    {\n      id: \"grains\",\n      name: \"Grains & Cereals\",\n      icon: \"ðŸŒ¾\",\n      color: \"from-amber-500 to-orange-500\",\n      description: \"Premium whole grains\",\n    },\n    {\n      id: \"seafood\",\n      name: \"Fresh Seafood\",\n      icon: \"ðŸŸ\",\n      color: \"from-blue-500 to-indigo-500\",\n      description: \"Ocean-fresh selection\",\n    },\n    {\n      id: \"fruits\",\n      name: \"Fresh Fruits\",\n      icon: \"ðŸŽ\",\n      color: \"from-red-500 to-pink-500\",\n      description: \"Seasonal fruit varieties\",\n    },\n    {\n      id: \"dairy\",\n      name: \"Dairy Products\",\n      icon: \"ðŸ¥›\",\n      color: \"from-blue-500 to-purple-500\",\n      description: \"Pure dairy essentials\",\n    },\n    {\n      id: \"nuts\",\n      name: \"Nuts & Seeds\",\n      icon: \"ðŸ¥œ\",\n      color: \"from-amber-500 to-yellow-500\",\n      description: \"Premium nut selection\",\n    },\n    {\n      id: \"vegetables\",\n      name: \"Fresh Vegetables\",\n      icon: \"ðŸ¥¬\",\n      color: \"from-green-500 to-emerald-500\",\n      description: \"Farm-fresh produce\",\n    },\n  ];\n\n  const dietOptions = [\n    { value: \"vegan\", label: \"Vegan\", icon: \"ðŸŒ±\" },\n    { value: \"vegetarian\", label: \"Vegetarian\", icon: \"ðŸ¥—\" },\n    { value: \"keto\", label: \"Keto\", icon: \"ðŸ¥‘\" },\n    { value: \"paleo\", label: \"Paleo\", icon: \"ðŸ¦´\" },\n    { value: \"mediterranean\", label: \"Mediterranean\", icon: \"ðŸ«’\" },\n    { value: \"dash\", label: \"DASH\", icon: \"â¤ï¸\" },\n    { value: \"gluten-free\", label: \"Gluten-Free\", icon: \"ðŸŒ¾\" },\n  ];\n\n  // New: Smart Filter Presets\n  const filterPresets = [\n    {\n      id: \"trending\",\n      name: \"ðŸ”¥ Trending Now\",\n      icon: Fire,\n      description: \"Most popular products this week\",\n      filters: { sortBy: \"popularity\", selectedCategory: \"all\" },\n    },\n    {\n      id: \"budget-friendly\",\n      name: \"ðŸ’° Budget Friendly\",\n      icon: TrendingDown,\n      description: \"Best value for money\",\n      filters: { sortBy: \"price-low\", priceRange: [0, 500] },\n    },\n    {\n      id: \"premium\",\n      name: \"ðŸ‘‘ Premium Selection\",\n      icon: Crown,\n      description: \"High-end organic products\",\n      filters: { priceRange: [1000, 2000], selectedCategory: \"all\" },\n    },\n    {\n      id: \"quick-delivery\",\n      name: \"âš¡ Quick Delivery\",\n      icon: ZapIcon,\n      description: \"Same day delivery available\",\n      filters: { selectedCategory: \"all\" },\n    },\n    {\n      id: \"health-focused\",\n      name: \"ðŸŽ¯ Health Focused\",\n      icon: TargetIcon,\n      description: \"Products for specific health goals\",\n      filters: {\n        selectedDiets: [\"mediterranean\", \"dash\"],\n        selectedCategory: \"all\",\n      },\n    },\n    {\n      id: \"organic\",\n      name: \"ðŸŒ¿ 100% Organic\",\n      icon: Leaf,\n      description: \"Certified organic products only\",\n      filters: { selectedCategory: \"all\" },\n    },\n  ];\n\n  // New: Smart Recommendations\n  const getSmartRecommendations = () => {\n    const recommendations = [];\n\n    if (searchTerm) {\n      recommendations.push({\n        type: \"search\",\n        message: `Found ${filteredProducts.length} products matching \"${searchTerm}\"`,\n        icon: Search,\n      });\n    }\n\n    if (selectedCategory !== \"all\") {\n      const category = categories.find((c) => c.id === selectedCategory);\n      recommendations.push({\n        type: \"category\",\n        message: `Browsing ${category?.name} - ${filteredProducts.length} products available`,\n        icon: Package,\n      });\n    }\n\n    if (priceRange[1] < 2000) {\n      recommendations.push({\n        type: \"price\",\n        message: `Price range: â‚¹${priceRange[0]} - â‚¹${priceRange[1]}`,\n        icon: TrendingDown,\n      });\n    }\n\n    if (selectedDiets.length > 0) {\n      recommendations.push({\n        type: \"diet\",\n        message: `${selectedDiets.length} dietary preferences selected`,\n        icon: HeartIcon,\n      });\n    }\n\n    return recommendations;\n  };\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  useEffect(() => {\n    filterAndSortProducts();\n  }, [\n    products,\n    searchTerm,\n    selectedCategory,\n    sortBy,\n    priceRange,\n    selectedDiets,\n  ]);\n\n  const fetchProducts = async () => {\n    try {\n      const response = await fetch(\"http://localhost:4000/api/products\");\n      const data = await response.json();\n      setProducts(data);\n      setLoading(false);\n    } catch (error) {\n      console.error(\"Error fetching products:\", error);\n      setLoading(false);\n    }\n  };\n\n  const filterAndSortProducts = () => {\n    let filtered = products.filter((product) => {\n      const matchesSearch =\n        product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        product.description.toLowerCase().includes(searchTerm.toLowerCase());\n      const matchesCategory =\n        selectedCategory === \"all\" ||\n        product.category.toLowerCase() === selectedCategory.toLowerCase();\n      const matchesPrice =\n        product.price >= priceRange[0] && product.price <= priceRange[1];\n      const matchesDiet =\n        selectedDiets.length === 0 ||\n        selectedDiets.some((diet) => product.dietCompatible?.includes(diet));\n\n      return matchesSearch && matchesCategory && matchesPrice && matchesDiet;\n    });\n\n    // Sort products\n    switch (sortBy) {\n      case \"price-low\":\n        filtered.sort((a, b) => a.price - b.price);\n        break;\n      case \"price-high\":\n        filtered.sort((a, b) => b.price - a.price);\n        break;\n      case \"rating\":\n        filtered.sort((a, b) => b.rating - a.rating);\n        break;\n      case \"name\":\n        filtered.sort((a, b) => a.name.localeCompare(b.name));\n        break;\n      case \"popularity\":\n        filtered.sort((a, b) => b.reviews - a.reviews);\n        break;\n      default:\n        break;\n    }\n\n    setFilteredProducts(filtered);\n  };\n\n  const handleAddToCart = async (product) => {\n    try {\n      await addToCart(product._id, 1);\n      toast({\n        title: \"Added to cart!\",\n        description: `${product.name} has been added to your cart.`,\n        variant: \"default\",\n      });\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to add item to cart. Please try again.\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const handleQuantityChange = async (productId, newQuantity) => {\n    try {\n      if (newQuantity <= 0) {\n        await updateQuantity(productId, 0);\n      } else {\n        await updateQuantity(productId, newQuantity);\n      }\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to update quantity. Please try again.\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const getDiscountPercentage = (originalPrice, currentPrice) => {\n    return Math.round(((originalPrice - currentPrice) / originalPrice) * 100);\n  };\n\n  const clearAllFilters = () => {\n    setSearchTerm(\"\");\n    setSelectedCategory(\"all\");\n    setPriceRange([0, 2000]);\n    setSelectedDiets([]);\n    setSortBy(\"featured\");\n    setActiveFilterPreset(null);\n  };\n\n  const applyFilterPreset = (preset) => {\n    setActiveFilterPreset(preset.id);\n    setSortBy(preset.filters.sortBy || \"featured\");\n    setPriceRange(preset.filters.priceRange || [0, 2000]);\n    setSelectedDiets(preset.filters.selectedDiets || []);\n    setSelectedCategory(preset.filters.selectedCategory || \"all\");\n\n    toast({\n      title: \"Filter Preset Applied!\",\n      description: preset.description,\n      variant: \"default\",\n    });\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"relative\">\n            <div className=\"animate-spin rounded-full h-20 w-20 border-b-2 border-green-600 mx-auto mb-6\"></div>\n            <div className=\"absolute inset-0 rounded-full border-2 border-green-200 animate-pulse\"></div>\n          </div>\n          <div className=\"space-y-2\">\n            <p className=\"text-xl font-semibold text-gray-700\">\n              Loading Amazing Products\n            </p>\n            <p className=\"text-gray-500\">\n              Preparing your healthy shopping experience...\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-green-50 to-blue-50\">\n      {/* Hero Section - Matching Website Design */}\n      <div className=\"relative overflow-hidden bg-gradient-to-r from-green-600 to-blue-600 text-white py-20\">\n        {/* Background Elements */}\n        <div className=\"absolute inset-0\">\n          <div className=\"absolute top-0 left-0 w-72 h-72 bg-white/10 rounded-full mix-blend-multiply filter blur-xl animate-pulse\"></div>\n          <div className=\"absolute top-0 right-0 w-72 h-72 bg-white/10 rounded-full mix-blend-multiply filter blur-xl animate-pulse animation-delay-2000\"></div>\n          <div className=\"absolute bottom-0 left-1/2 w-72 h-72 bg-white/10 rounded-full mix-blend-multiply filter blur-xl animate-pulse animation-delay-4000\"></div>\n        </div>\n\n        <div className=\"relative container mx-auto px-6 text-center\">\n          {/* Professional Badge */}\n          <div className=\"inline-flex items-center gap-2 mb-6 px-4 py-2 bg-white/20 backdrop-blur-sm rounded-full border border-white/30\">\n            <Award className=\"w-4 h-4 text-yellow-300\" />\n            <span className=\"text-sm font-medium text-white\">\n              Premium Quality Assured\n            </span>\n          </div>\n\n          <h1 className=\"text-4xl md:text-5xl font-bold mb-6 leading-tight tracking-tight\">\n            Discover Fresh &{\" \"}\n            <span className=\"bg-gradient-to-r from-yellow-300 to-orange-300 bg-clip-text text-transparent\">\n              Healthy Products\n            </span>\n          </h1>\n\n          <p className=\"text-lg text-green-100 mb-10 max-w-3xl mx-auto leading-relaxed\">\n            From farm to table, we bring you the finest organic and nutritious\n            products to support your healthy lifestyle journey. Every item is\n            carefully selected for quality and freshness.\n          </p>\n\n          {/* Search Bar */}\n          <div className=\"max-w-2xl mx-auto relative\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-5 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5\" />\n              <Input\n                type=\"text\"\n                placeholder=\"Search products, categories, or dietary preferences...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"pl-12 pr-4 py-4 text-base border-0 rounded-full shadow-2xl focus:ring-4 focus:ring-green-300/50 bg-white/95 backdrop-blur-sm\"\n              />\n            </div>\n          </div>\n\n          {/* Stats */}\n          <div className=\"flex justify-center gap-12 mt-12\">\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-yellow-300\">\n                {products.length}+\n              </div>\n              <div className=\"text-green-100 text-sm font-medium\">\n                Premium Products\n              </div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-yellow-300\">100%</div>\n              <div className=\"text-green-100 text-sm font-medium\">\n                Quality Verified\n              </div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-yellow-300\">24h</div>\n              <div className=\"text-green-100 text-sm font-medium\">\n                Express Delivery\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"container mx-auto px-6 py-12\">\n        {/* NEW: Smart Filter Presets */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <div className=\"flex items-center gap-3\">\n              <Lightbulb className=\"w-6 h-6 text-amber-500\" />\n              <h2 className=\"text-xl font-bold text-gray-800\">\n                Smart Filter Presets\n              </h2>\n            </div>\n            <Button\n              variant=\"ghost\"\n              onClick={() =>\n                setShowSmartRecommendations(!showSmartRecommendations)\n              }\n              className=\"text-green-600 hover:text-green-700 hover:bg-green-50\"\n            >\n              <Zap className=\"w-4 h-4 mr-2\" />\n              {showSmartRecommendations ? \"Hide\" : \"Show\"} AI Insights\n            </Button>\n          </div>\n\n          <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4\">\n            {filterPresets.map((preset) => {\n              const IconComponent = preset.icon;\n              return (\n                <button\n                  key={preset.id}\n                  onClick={() => applyFilterPreset(preset)}\n                  className={`group relative p-4 rounded-xl border-2 transition-all duration-300 text-left ${\n                    activeFilterPreset === preset.id\n                      ? \"border-green-500 bg-green-50 shadow-lg scale-105\"\n                      : \"border-gray-200 bg-white hover:border-green-300 hover:shadow-md hover:scale-105\"\n                  }`}\n                >\n                  <div className=\"flex items-center gap-2 mb-2\">\n                    <IconComponent\n                      className={`w-5 h-5 ${\n                        activeFilterPreset === preset.id\n                          ? \"text-green-600\"\n                          : \"text-gray-500\"\n                      }`}\n                    />\n                    <span\n                      className={`text-sm font-semibold ${\n                        activeFilterPreset === preset.id\n                          ? \"text-green-800\"\n                          : \"text-gray-700\"\n                      }`}\n                    >\n                      {preset.name}\n                    </span>\n                  </div>\n                  <p\n                    className={`text-xs ${\n                      activeFilterPreset === preset.id\n                        ? \"text-green-600\"\n                        : \"text-gray-500\"\n                    }`}\n                  >\n                    {preset.description}\n                  </p>\n\n                  {activeFilterPreset === preset.id && (\n                    <div className=\"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center\">\n                      <CheckCircle className=\"w-4 h-4 text-white\" />\n                    </div>\n                  )}\n                </button>\n              );\n            })}\n          </div>\n        </div>\n\n        {/* NEW: Smart Recommendations Panel */}\n        {showSmartRecommendations && (\n          <div className=\"mb-8 bg-gradient-to-r from-blue-50 to-green-50 rounded-2xl p-6 border border-blue-200\">\n            <div className=\"flex items-center gap-3 mb-4\">\n              <div className=\"p-2 bg-blue-100 rounded-lg\">\n                <BarChart3 className=\"w-5 h-5 text-blue-600\" />\n              </div>\n              <div>\n                <h3 className=\"text-lg font-semibold text-blue-800\">\n                  Smart Insights\n                </h3>\n                <p className=\"text-sm text-blue-600\">\n                  AI-powered recommendations based on your filters\n                </p>\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n              {getSmartRecommendations().map((rec, index) => {\n                const IconComponent = rec.icon;\n                return (\n                  <div\n                    key={index}\n                    className=\"bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-blue-200/50\"\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"p-2 bg-blue-100 rounded-lg\">\n                        <IconComponent className=\"w-4 h-4 text-blue-600\" />\n                      </div>\n                      <div>\n                        <p className=\"text-sm font-medium text-blue-800\">\n                          {rec.message}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        )}\n\n        {/* Enhanced Filter System */}\n        <div className=\"bg-white rounded-2xl shadow-xl border border-gray-200/50 p-8 mb-12\">\n          <div className=\"flex items-center justify-between mb-8\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-2 bg-green-100 rounded-lg\">\n                <FilterIcon className=\"w-5 h-5 text-green-600\" />\n              </div>\n              <div>\n                <h2 className=\"text-xl font-bold text-gray-800\">\n                  Advanced Filters\n                </h2>\n                <p className=\"text-sm text-gray-500\">\n                  Refine your product selection\n                </p>\n              </div>\n            </div>\n            <Button\n              variant=\"ghost\"\n              onClick={() => setShowFilters(!showFilters)}\n              className=\"flex items-center gap-2 text-green-600 hover:text-green-700 hover:bg-green-50\"\n            >\n              <SlidersHorizontal className=\"w-4 h-4\" />\n              {showFilters ? \"Hide\" : \"Show\"} Advanced\n            </Button>\n          </div>\n\n          {/* Basic Filters */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8\">\n            {/* Category Filter */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-700 mb-4\">\n                Product Categories\n              </label>\n              <div className=\"flex flex-wrap gap-3\">\n                {categories.map((category) => (\n                  <button\n                    key={category.id}\n                    onClick={() => setSelectedCategory(category.id)}\n                    className={`group relative px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2 ${\n                      selectedCategory === category.id\n                        ? `bg-gradient-to-r ${category.color} text-white shadow-md`\n                        : \"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:shadow-sm\"\n                    }`}\n                  >\n                    <span className=\"text-lg group-hover:scale-110 transition-transform\">\n                      {category.icon}\n                    </span>\n                    <span>{category.name}</span>\n                    {selectedCategory === category.id && (\n                      <CheckCircle className=\"w-4 h-4 ml-1\" />\n                    )}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Sort Options */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-700 mb-4\">\n                Sort By\n              </label>\n              <select\n                value={sortBy}\n                onChange={(e) => setSortBy(e.target.value)}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white\"\n              >\n                <option value=\"featured\">â­ Featured</option>\n                <option value=\"popularity\">ðŸ”¥ Most Popular</option>\n                <option value=\"rating\">â­ Highest Rated</option>\n                <option value=\"price-low\">ðŸ’° Price: Low to High</option>\n                <option value=\"price-high\">ðŸ’° Price: High to Low</option>\n                <option value=\"name\">ðŸ“ Name A-Z</option>\n              </select>\n            </div>\n\n            {/* View Mode */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-700 mb-4\">\n                Display Mode\n              </label>\n              <div className=\"flex bg-gray-100 rounded-lg p-1\">\n                <button\n                  onClick={() => setViewMode(\"grid\")}\n                  className={`p-3 rounded-md transition-all ${\n                    viewMode === \"grid\"\n                      ? \"bg-white text-green-600 shadow-sm\"\n                      : \"text-gray-500 hover:text-gray-700\"\n                  }`}\n                >\n                  <Grid3X3 className=\"w-5 h-5\" />\n                </button>\n                <button\n                  onClick={() => setViewMode(\"list\")}\n                  className={`p-3 rounded-md transition-all ${\n                    viewMode === \"list\"\n                      ? \"bg-white text-green-600 shadow-sm\"\n                      : \"text-gray-500 hover:text-gray-700\"\n                  }`}\n                >\n                  <List className=\"w-5 h-5\" />\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Advanced Filters */}\n          {showFilters && (\n            <div className=\"border-t border-gray-200 pt-8 space-y-8\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n                {/* Price Range */}\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-4\">\n                    Price Range: â‚¹{priceRange[0]} - â‚¹{priceRange[1]}\n                  </label>\n                  <div className=\"space-y-3\">\n                    <input\n                      type=\"range\"\n                      min=\"0\"\n                      max=\"2000\"\n                      value={priceRange[1]}\n                      onChange={(e) =>\n                        setPriceRange([priceRange[0], parseInt(e.target.value)])\n                      }\n                      className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer\"\n                    />\n                    <div className=\"flex justify-between text-xs text-gray-500\">\n                      <span>â‚¹0</span>\n                      <span>â‚¹2000+</span>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Diet Preferences */}\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-4\">\n                    Dietary Preferences\n                  </label>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {dietOptions.map((diet) => (\n                      <button\n                        key={diet.value}\n                        onClick={() => {\n                          setSelectedDiets((prev) =>\n                            prev.includes(diet.value)\n                              ? prev.filter((d) => d !== diet.value)\n                              : [...prev, diet.value]\n                          );\n                        }}\n                        className={`px-3 py-2 rounded-lg text-sm font-medium transition-all ${\n                          selectedDiets.includes(diet.value)\n                            ? \"bg-green-100 text-green-800 border border-green-300\"\n                            : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\n                        }`}\n                      >\n                        <span className=\"mr-1\">{diet.icon}</span>\n                        {diet.label}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              </div>\n\n              {/* Clear Filters */}\n              <div className=\"flex justify-center\">\n                <Button\n                  onClick={clearAllFilters}\n                  variant=\"outline\"\n                  className=\"border-red-200 text-red-600 hover:bg-red-50 hover:border-red-300\"\n                >\n                  <Target className=\"w-4 h-4 mr-2\" />\n                  Clear All Filters\n                </Button>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Results Summary */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-4\">\n              <p className=\"text-gray-600 text-lg\">\n                Showing{\" \"}\n                <span className=\"font-bold text-green-600 text-xl\">\n                  {filteredProducts.length}\n                </span>{\" \"}\n                products\n                {searchTerm && (\n                  <>\n                    {\" \"}\n                    for \"\n                    <span className=\"font-semibold text-blue-600\">\n                      {searchTerm}\n                    </span>\n                    \"\n                  </>\n                )}\n                {selectedCategory !== \"all\" && (\n                  <>\n                    {\" \"}\n                    in{\" \"}\n                    <span className=\"font-semibold text-purple-600\">\n                      {categories.find((c) => c.id === selectedCategory)?.name}\n                    </span>\n                  </>\n                )}\n              </p>\n              {(searchTerm ||\n                selectedCategory !== \"all\" ||\n                selectedDiets.length > 0) && (\n                <span className=\"px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full font-medium\">\n                  Filtered Results\n                </span>\n              )}\n            </div>\n\n            <div className=\"flex items-center gap-2 text-sm text-gray-500\">\n              <Clock className=\"w-4 h-4\" />\n              <span>Last updated: {new Date().toLocaleTimeString()}</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Products Grid/List */}\n        {filteredProducts.length === 0 ? (\n          <div className=\"text-center py-20\">\n            <div className=\"relative mb-8\">\n              <div className=\"text-8xl mb-4\">ðŸ”</div>\n              <div className=\"absolute -top-2 -right-2 w-6 h-6 bg-red-500 rounded-full animate-bounce\"></div>\n            </div>\n            <h3 className=\"text-3xl font-bold text-gray-700 mb-4\">\n              No products found\n            </h3>\n            <p className=\"text-gray-500 mb-8 text-lg max-w-md mx-auto\">\n              Try adjusting your search criteria or filters to discover more\n              amazing products.\n            </p>\n            <div className=\"flex gap-4 justify-center\">\n              <Button\n                onClick={clearAllFilters}\n                className=\"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700\"\n              >\n                <Target className=\"w-4 h-4 mr-2\" />\n                Clear All Filters\n              </Button>\n              <Button\n                variant=\"outline\"\n                onClick={() => navigate(\"/\")}\n                className=\"border-gray-300 hover:border-gray-400\"\n              >\n                <ArrowRight className=\"w-4 h-4 mr-2\" />\n                Explore Homepage\n              </Button>\n            </div>\n          </div>\n        ) : (\n          <div\n            className={\n              viewMode === \"grid\"\n                ? \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\"\n                : \"space-y-6\"\n            }\n          >\n            {filteredProducts.map((product, index) => (\n              <Card\n                key={product._id}\n                className=\"group overflow-hidden transition-all duration-500 hover:shadow-2xl hover:scale-105 border-0 bg-white/90 backdrop-blur-sm relative\"\n                style={{\n                  animationDelay: `${index * 100}ms`,\n                }}\n              >\n                {/* Product Image */}\n                <div className=\"relative overflow-hidden bg-gradient-to-br from-green-100 via-blue-100 to-purple-100 p-8\">\n                  <div className=\"text-7xl text-center mb-4 group-hover:scale-110 transition-transform duration-300\">\n                    {product.image}\n                  </div>\n\n                  {/* Animated Background */}\n                  <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000\"></div>\n\n                  {/* Badges */}\n                  <div className=\"absolute top-3 left-3 flex flex-col gap-2\">\n                    {product.originalPrice > product.price && (\n                      <div className=\"bg-gradient-to-r from-red-500 to-pink-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg animate-pulse\">\n                        -\n                        {getDiscountPercentage(\n                          product.originalPrice,\n                          product.price\n                        )}\n                        %\n                      </div>\n                    )}\n                    {product.tags?.includes(\"Organic\") && (\n                      <div className=\"bg-gradient-to-r from-green-500 to-emerald-500 text-white text-xs font-bold px-3 py-1 rounded-full flex items-center gap-1 shadow-lg\">\n                        <Leaf className=\"w-3 h-3\" />\n                        Organic\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Quick Actions */}\n                  <div className=\"absolute top-3 right-3 flex flex-col gap-2 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-2 group-hover:translate-y-0\">\n                    <button className=\"bg-white/90 hover:bg-white p-2 rounded-full shadow-lg transition-all hover:scale-110 hover:shadow-xl\">\n                      <Heart className=\"w-4 h-4 text-red-500\" />\n                    </button>\n                    <button\n                      onClick={() => navigate(`/products/${product._id}`)}\n                      className=\"bg-white/90 hover:bg-white p-2 rounded-full shadow-lg transition-all hover:scale-110 hover:shadow-xl\"\n                    >\n                      <Eye className=\"w-4 h-4 text-blue-500\" />\n                    </button>\n                  </div>\n\n                  {/* Stock Status */}\n                  {!product.inStock && (\n                    <div className=\"absolute bottom-3 left-3 bg-red-500 text-white text-xs font-bold px-3 py-1 rounded-full animate-pulse\">\n                      Out of Stock\n                    </div>\n                  )}\n\n                  {/* Category Badge */}\n                  <div className=\"absolute bottom-3 right-3\">\n                    <span className=\"px-3 py-1 bg-black/20 text-white text-xs font-medium rounded-full backdrop-blur-sm\">\n                      {product.category}\n                    </span>\n                  </div>\n                </div>\n\n                {/* Product Info */}\n                <div className=\"p-6\">\n                  {/* Product Name */}\n                  <h3 className=\"text-lg font-bold text-gray-800 mb-3 line-clamp-2 group-hover:text-green-600 transition-colors duration-300\">\n                    {product.name}\n                  </h3>\n\n                  {/* Description */}\n                  <p className=\"text-gray-600 text-sm mb-4 line-clamp-2 leading-relaxed\">\n                    {product.description}\n                  </p>\n\n                  {/* Rating */}\n                  <div className=\"flex items-center gap-2 mb-4\">\n                    <div className=\"flex items-center\">\n                      {[...Array(5)].map((_, i) => (\n                        <Star\n                          key={i}\n                          className={`w-4 h-4 ${\n                            i < Math.floor(product.rating)\n                              ? \"text-yellow-400 fill-current\"\n                              : \"text-gray-300\"\n                          }`}\n                        />\n                      ))}\n                    </div>\n                    <span className=\"text-sm text-gray-600\">\n                      ({product.reviews})\n                    </span>\n                    <span className=\"ml-auto text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full\">\n                      {product.rating}/5\n                    </span>\n                  </div>\n\n                  {/* Price */}\n                  <div className=\"flex items-center gap-3 mb-4\">\n                    <span className=\"text-2xl font-bold text-green-600\">\n                      â‚¹{product.price}\n                    </span>\n                    {product.originalPrice > product.price && (\n                      <span className=\"text-lg text-gray-400 line-through\">\n                        â‚¹{product.originalPrice}\n                      </span>\n                    )}\n                  </div>\n\n                  {/* Supplier Info */}\n                  <div className=\"flex items-center gap-2 mb-4 text-sm text-gray-500\">\n                    <Truck className=\"w-4 h-4 text-green-500\" />\n                    <span className=\"truncate\">{product.supplier}</span>\n                  </div>\n\n                  {/* Cart Actions */}\n                  <div className=\"space-y-3\">\n                    {isInCart(product._id) ? (\n                      <div className=\"bg-green-50 border border-green-200 rounded-xl p-3\">\n                        <div className=\"flex items-center gap-2 mb-2\">\n                          <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\n                          <span className=\"text-sm font-medium text-green-800\">\n                            In Cart: {getItemQuantity(product._id)} Ã— â‚¹\n                            {product.price}\n                          </span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() =>\n                              handleQuantityChange(\n                                product._id,\n                                getItemQuantity(product._id) - 1\n                              )\n                            }\n                            disabled={isItemUpdating(product._id)}\n                            className=\"flex-1 border-green-300 text-green-700 hover:bg-green-100\"\n                          >\n                            <Minus className=\"w-4 h-4\" />\n                          </Button>\n                          <span className=\"text-center font-semibold min-w-[2rem]\">\n                            {getItemQuantity(product._id)}\n                          </span>\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() =>\n                              handleQuantityChange(\n                                product._id,\n                                getItemQuantity(product._id) + 1\n                              )\n                            }\n                            disabled={isItemUpdating(product._id)}\n                            className=\"flex-1 border-green-300 text-green-700 hover:bg-green-100\"\n                          >\n                            <Plus className=\"w-4 h-4\" />\n                          </Button>\n                        </div>\n                      </div>\n                    ) : (\n                      <Button\n                        onClick={() => handleAddToCart(product)}\n                        disabled={!product.inStock}\n                        className=\"w-full bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 group-hover:scale-105\"\n                      >\n                        <ShoppingCart className=\"w-4 h-4 mr-2\" />\n                        Add to Cart\n                      </Button>\n                    )}\n\n                    {/* View Details Button */}\n                    <Button\n                      variant=\"outline\"\n                      onClick={() => navigate(`/products/${product._id}`)}\n                      className=\"w-full border-green-200 text-green-600 hover:bg-green-50 hover:border-green-300 transition-all duration-300 group-hover:scale-105\"\n                    >\n                      <Eye className=\"w-4 h-4 mr-2\" />\n                      View Details\n                    </Button>\n                  </div>\n                </div>\n\n                {/* Hover Effect Border */}\n                <div className=\"absolute inset-0 border-2 border-transparent group-hover:border-green-300/50 rounded-xl transition-all duration-300 pointer-events-none\"></div>\n              </Card>\n            ))}\n          </div>\n        )}\n\n        {/* Bottom CTA */}\n        {filteredProducts.length > 0 && (\n          <div className=\"mt-20 text-center\">\n            <div className=\"relative overflow-hidden bg-gradient-to-r from-green-600 via-blue-600 to-purple-600 rounded-2xl p-12 text-white\">\n              {/* Background Elements */}\n              <div className=\"absolute inset-0\">\n                <div className=\"absolute top-0 left-0 w-32 h-32 bg-white/10 rounded-full mix-blend-multiply filter blur-xl animate-blob\"></div>\n                <div className=\"absolute bottom-0 right-0 w-32 h-32 bg-white/10 rounded-full mix-blend-multiply filter blur-xl animate-blob animation-delay-2000\"></div>\n              </div>\n\n              <div className=\"relative\">\n                <div className=\"flex items-center justify-center gap-2 mb-4\">\n                  <Sparkles className=\"w-6 h-6 text-yellow-300 animate-pulse\" />\n                  <span className=\"text-sm font-medium bg-white/20 px-4 py-2 rounded-full\">\n                    Expert Guidance\n                  </span>\n                  <Sparkles className=\"w-6 h-6 text-yellow-300 animate-pulse\" />\n                </div>\n\n                <h3 className=\"text-3xl font-bold mb-6\">\n                  Need Help Finding the Right Products?\n                </h3>\n                <p className=\"text-green-100 mb-8 max-w-3xl mx-auto text-lg leading-relaxed\">\n                  Our nutrition experts are here to help you choose products\n                  that align with your dietary goals and preferences. Get\n                  personalized recommendations based on your health objectives.\n                </p>\n\n                <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n                  <Button\n                    variant=\"secondary\"\n                    size=\"lg\"\n                    className=\"bg-white text-green-600 hover:bg-gray-100 shadow-lg hover:shadow-xl transition-all duration-300\"\n                  >\n                    <TrendingUp className=\"w-5 h-5 mr-2\" />\n                    Get Personalized Recommendations\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    size=\"lg\"\n                    className=\"border-white/30 text-white hover:bg-white/10 backdrop-blur-sm\"\n                  >\n                    <Users className=\"w-5 h-5 mr-2\" />\n                    Chat with Nutritionist\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Custom CSS for slider */}\n      <style jsx>{`\n        .slider::-webkit-slider-thumb {\n          appearance: none;\n          height: 20px;\n          width: 20px;\n          border-radius: 50%;\n          background: linear-gradient(to right, #10b981, #3b82f6);\n          cursor: pointer;\n          box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);\n        }\n\n        .slider::-moz-range-thumb {\n          height: 20px;\n          width: 20px;\n          border-radius: 50%;\n          background: linear-gradient(to right, #10b981, #3b82f6);\n          cursor: pointer;\n          border: none;\n          box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);\n        }\n\n        @keyframes blob {\n          0% {\n            transform: translate(0px, 0px) scale(1);\n          }\n          33% {\n            transform: translate(30px, -50px) scale(1.1);\n          }\n          66% {\n            transform: translate(-20px, 20px) scale(0.9);\n          }\n          100% {\n            transform: translate(0px, 0px) scale(1);\n          }\n        }\n\n        .animate-blob {\n          animation: blob 7s infinite;\n        }\n\n        .animation-delay-2000 {\n          animation-delay: 2s;\n        }\n\n        .animation-delay-4000 {\n          animation-delay: 4s;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default ProductsPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}